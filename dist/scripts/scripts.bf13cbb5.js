"use strict";angular.module("testmaquetteApp",["ngRoute","chart.js","ui.bootstrap"]).config(["ChartJsProvider",function(a){a.setOptions({chartColors:["#FF5252","#FF8A80"],responsive:!0})}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl",controllerAs:"about"}).when("/relevemeteo",{templateUrl:"views/relevemeteo.html",controller:"RelevemeteoCtrl",controllerAs:"relevemeteo"}).when("/periode/:debut/:fin",{templateUrl:"views/periode.html",controller:"PeriodeCtrl",controllerAs:"periode"}).when("/date/:date",{templateUrl:"views/date.html",controller:"DateCtrl",controllerAs:"date"}).when("/site/:idSite",{templateUrl:"views/site.html",controller:"SiteCtrl",controllerAs:"site"}).when("/dateFormulaire",{templateUrl:"views/dateformulaire.html",controller:"DateFormulaireCtrl",controllerAs:"dateFormulaire"}).when("/periodeFormulaire",{templateUrl:"views/periodeformulaire.html",controller:"PeriodeFormulaireCtrl",controllerAs:"periodeFormulaire"}).otherwise({redirectTo:"/"})}]),angular.module("testmaquetteApp").controller("MainCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("testmaquetteApp").controller("AboutCtrl",function(){this.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}),angular.module("testmaquetteApp").controller("RelevemeteoCtrl",["$scope","serviceAjax",function(a,b){a.data=[[]],b.getAll().then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=(new Date).getTime(),d=0;d<a.releves.length-1;d++)a.labels[d]=a.releves[d].datedebut;for(var d=0;d<a.releves.length-1;d++)a.data[0][d]=a.releves[d].temperature;var e=(new Date).getTime(),f=e-c;a.tempsAngular=f,a.options={legend:{display:!0,label:"test"},scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Température"}}],xAxes:[{scaleLabel:{display:!0,labelString:"Date"}}]}},a.series=["Courbe des relevés météo","Courbe 2","Courbe 3"]},function(){console.log("non recup")})}]),angular.module("testmaquetteApp").factory("serviceAjax",["$http",function(a){return{getAll:function(){return console.log("done"),a.get("http://localhost:8500/relevemeteo")},getPeriode:function(b,c){return a.get("http://localhost:8500/relevemeteo/periode/"+b+"/"+c)},getDate:function(b){return a.get("http://localhost:8500/relevemeteo/date/"+b)},getSite:function(b){return a.get("http://localhost:8500/relevemeteo/site/"+b)}}}]),angular.module("testmaquetteApp").controller("PeriodeCtrl",["$scope","$routeParams","serviceAjax",function(a,b,c){a.debut=b.debut,a.fin=b.fin,a.data=[[]],c.getPeriode(a.debut,a.fin).then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=0;c<a.releves.length-1;c++)a.labels[c]=a.releves[c].datedebut;for(var c=0;c<a.releves.length-1;c++)a.data[0][c]=a.releves[c].temperature;a.series=["Courbe 1"]},function(){console.log("non recup")})}]),angular.module("testmaquetteApp").controller("DateCtrl",["$scope","$routeParams","serviceAjax",function(a,b,c){a.date=b.date,a.data=[[]],c.getDate(a.date).then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=0;c<a.releves.length-1;c++)a.labels[c]=a.releves[c].datedebut;for(var c=0;c<a.releves.length-1;c++)a.data[0][c]=a.releves[c].temperature;a.series=["Courbe 1"]},function(){console.log("non recup")})}]),angular.module("testmaquetteApp").controller("SiteCtrl",["$scope","$routeParams","serviceAjax",function(a,b,c){a.site=b.idSite,a.data=[[]],c.getSite(a.site).then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=0;c<a.releves.length-1;c++)a.labels[c]=a.releves[c].datedebut;for(var d=0;d<a.releves.length-1;d++)a.data[0][d]=a.releves[d].temperature;a.series=["Courbe 1"]},function(){console.log("non recup")})}]),angular.module("testmaquetteApp").controller("DateFormulaireCtrl",["$scope","serviceAjax",function(a,b){var c=function(c){a.date=c.date,a.data=[[[]]],b.getDate(a.date).then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=0;c<a.releves.length-1;c++)a.labels[c]=a.releves[c].id_sitemeteo;for(var d=0;d<a.releves.length-1;d++)a.data[0][d]=a.releves[d].temperature;a.series=["Courbe 1"]},function(){console.log("non recup")})};a.envoie=function(a){c(a)}}]),angular.module("testmaquetteApp").controller("PeriodeFormulaireCtrl",["$scope","serviceAjax",function(a,b){a.data=[[]];var c=function(c){a.debut=c.dateDebut,a.fin=c.dateFin,b.getPeriode(a.debut,a.fin).then(function(b){a.releves=b.data,a.tempsRequete=a.releves[a.releves.length-1],a.labels=[];for(var c=0;c<a.releves.length-1;c++)a.labels[c]=a.releves[c].datedebut;for(var d=0;d<a.releves.length-1;d++)a.data[0][d]=a.releves[d].temperature;a.series=["Courbe 1"]},function(){console.log("non recup")})};a.envoie=function(a){c(a)}}]),angular.module("testmaquetteApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/date.html",'<p>This is the date view.</p> <!-- <div class="list-group-item" ng-repeat="releve in releves">\r\n<p>\r\n{{releve.id_meteo}}\r\n{{releve.datedebut}}\r\n{{releve.temperature}}\r\n{{releve.fluxexterieur}}\r\n{{releve.fluxinterieur}}\r\n{{releve.id_sitemeteo}}\r\n</p>\r\n<div>\r\n--> <canvas id="line" class="chart chart-horizontal-bar" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series"> </canvas> <table> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table>'),a.put("views/dateformulaire.html",'<p>This is the dateFormulaire view.</p> <!--<div ng-controller="DateformulaireCtrl">\r\n    <input ng-model="date" type="timestamp"/><br>\r\n    <span><b ></b></span>\r\n</div>--> <div ng-controller="DateFormulaireCtrl"> <canvas id="line" class="chart chart-horizontal-bar" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series"> </canvas> <form novalidate class="form-horizontal"> <label>Entrer une date (ex: 2010-01-01 03:20:00):</label><br> <input ng-model="post.date" type="timestamp"><br><br> <input type="submit" ng-click="envoie(post)" value="Rechercher"> </form> <table> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table> </div>'),a.put("views/main.html","<div> <p>Accueil</p> </div>"),a.put("views/periode.html",'<p>This is the periode view.</p> <!-- <div class="list-group-item" ng-repeat="releve in releves">\r\n       <p>\r\n       	{{releve.id_meteo}}\r\n        {{releve.datedebut}}\r\n        {{releve.temperature}}\r\n        {{releve.fluxexterieur}}\r\n        {{releve.fluxinterieur}}\r\n        {{releve.id_sitemeteo}}\r\n        </p>\r\n  <div>\r\n  --> <canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series"> </canvas> <table> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table>'),a.put("views/periodeformulaire.html",'<p>This is the periodeFormulaire view.</p> <div ng-controller="PeriodeFormulaireCtrl"> <canvas id="line" class="chart chart-line" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series"> </canvas> <form novalidate class="form-horizontal"> <label>Entrer une date de début (ex: 2010-01-01 03:20:00):</label> <br> <input ng-model="post.dateDebut" type="timestamp"> <br> <br> <label>Entrer une date de fin (ex: 2010-02-01 03:20:00):</label> <br> <input ng-model="post.dateFin" type="timestamp"> <br> <br> <input type="submit" ng-click="envoie(post)" value="Rechercher"> </form> <table> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table> </div>'),a.put("views/relevemeteo.html",'<p>This is the relevemeteo view.</p> <table style="float:right;margin-bottom:50px"> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table> <canvas id="line" class="chart chart-line" chart-data="data" height="280" width="400" chart-labels="labels" chart-legend="true" chart-options="options" chart-series="series"> </canvas>'),a.put("views/site.html",'<p>This is the site view.</p> <canvas id="line" class="chart chart-horizontal-bar" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series"> </canvas> <table> <thead> <!-- En-tête du tableau --> <tr> <th>Temps Requete</th> <th>Temps Affichage</th> </tr> </thead> <tbody> <!-- Corps du tableau --> <tr> <td>{{tempsRequete}} s</td> <td>{{tempsAngular}} s</td> </tr> </tbody> </table>')}]);